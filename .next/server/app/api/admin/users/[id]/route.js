"use strict";(()=>{var e={};e.id=452,e.ids=[452],e.modules={846:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9294:e=>{e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},1737:e=>{e.exports=import("drizzle-orm")},1214:e=>{e.exports=import("drizzle-orm/node-postgres")},8025:e=>{e.exports=import("drizzle-orm/pg-core")},4939:e=>{e.exports=import("pg")},7598:e=>{e.exports=require("node:crypto")},1797:(e,r,t)=>{t.a(e,async(e,n)=>{try{t.r(r),t.d(r,{patchFetch:()=>p,routeModule:()=>d,serverHooks:()=>w,workAsyncStorage:()=>c,workUnitAsyncStorage:()=>l});var s=t(2706),o=t(8203),a=t(5994),i=t(5698),u=e([i]);i=(u.then?(await u)():u)[0];let d=new s.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/admin/users/[id]/route",pathname:"/api/admin/users/[id]",filename:"route",bundlePath:"app/api/admin/users/[id]/route"},resolvedPagePath:"E:\\Project\\sst_announcement\\app\\api\\admin\\users\\[id]\\route.ts",nextConfigOutput:"",userland:i}),{workAsyncStorage:c,workUnitAsyncStorage:l,serverHooks:w}=d;function p(){return(0,a.patchFetch)({workAsyncStorage:c,workUnitAsyncStorage:l})}n()}catch(e){n(e)}})},5698:(e,r,t)=>{t.a(e,async(e,n)=>{try{t.r(r),t.d(r,{GET:()=>c,OPTIONS:()=>l});var s=t(9187),o=t(517),a=t(4272),i=t(366),u=t(4172),p=t(4218),d=e([a,u]);async function c(e,{params:r}){try{await (0,o.ay)(e,o.uZ);let t=await (0,a.oC)(e,{enforceDomain:!0});(0,i.eU)(t),(0,a.ZT)(t);let{id:n}=await r,d=function(e){if(!e)throw new p.v7("User ID is required");let r=Number(e);if(Number.isNaN(r))throw new p.v7("User ID must be a valid number");return r}(n),c=await (0,u.kl)(d);if(!c)throw new p.m_("User",d);return s.NextResponse.json({success:!0,data:c})}catch(e){return s.NextResponse.json({success:!1,error:e.message||"Internal server error"},{status:e.status||500})}}async function l(){return new s.NextResponse(null,{status:200,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Authorization"}})}[a,u]=d.then?(await d)():d,n()}catch(e){n(e)}})},517:(e,r,t)=>{t.d(r,{Nw:()=>a,ay:()=>o,uZ:()=>i});var n=t(4218);let s=new Map;async function o(e,r){let t=function(e){let r=e.headers.get("x-forwarded-for");return r?r.split(",")[0]?.trim()||"unknown":e.headers.get("x-real-ip")||e.ip||"unknown"}(e),o=`${r.keyPrefix}:${t}`,a=Date.now(),i=s.get(o);if(!i||i.expiresAt<a){s.set(o,{count:1,expiresAt:a+r.windowMs});return}if(i.count>=r.max)throw new n.qQ("Too many requests, please try again later.");i.count+=1,s.set(o,i)}let a={windowMs:9e5,max:100,keyPrefix:"general"},i={windowMs:9e5,max:200,keyPrefix:"admin"}}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[680,38,883,684],()=>t(1797));module.exports=n})();