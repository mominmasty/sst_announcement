(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[915],{1226:()=>{},5504:(e,t,r)=>{"use strict";r.d(t,{A:()=>m});var s=r(5155),a=r(2115),n=r(5007),i=r(4085),l=r(8671),o=r(2173),c=r(1520),d=r(4942),u=r(4830);let m=e=>{let{onBackToDashboard:t}=e,{user:r}=(0,o.Km)(),[m,h]=(0,a.useState)([]),[x,g]=(0,a.useState)(!0),[p,f]=(0,a.useState)("all"),{toasts:b,showToast:v,removeToast:y}=(0,d.d)();(0,a.useEffect)(()=>{j()},[]);let j=async()=>{try{g(!0);let e=await l.K.getAnnouncements();e.success&&e.data?h(e.data):v("Failed to load announcements","error")}catch(e){console.error("Error fetching announcements:",e),v("Error loading announcements","error")}finally{g(!1)}},w=m.filter(e=>"all"===p||e.category===p);return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-950",children:[(0,s.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8 bg-gray-900/50 backdrop-blur-sm rounded-2xl p-6 border border-gray-800/50",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"All Announcements"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Browse all announcements from the SST community"})]}),(0,s.jsxs)(i.$,{onClick:t,variant:"outline",className:"border-gray-700 text-gray-300 bg-transparent hover:bg-gray-800 hover:text-white transition-all duration-200",children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]})]}),(0,s.jsxs)("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-2xl p-6 border border-gray-800/50 mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Filter by Category"}),(0,s.jsxs)("span",{className:"text-sm text-gray-400",children:[w.length," announcements"]})]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:["all","college","tech-events","sports","cultural","academic"].map(e=>(0,s.jsx)("button",{onClick:()=>f(e),className:"px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 capitalize ".concat(p===e?"bg-blue-600 text-white shadow-lg shadow-blue-600/30":"bg-gray-800/50 text-gray-300 hover:bg-gray-700 hover:text-white border border-gray-700/50"),children:"all"===e?"All Categories":e.replace("-"," ")},e))})]}),x?(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(e=>(0,s.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800/50 rounded-2xl p-6 animate-pulse",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,s.jsx)("div",{className:"w-3/4 h-5 bg-gray-800 rounded-lg"}),(0,s.jsx)("div",{className:"w-16 h-6 bg-gray-800 rounded-full"})]}),(0,s.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,s.jsx)("div",{className:"w-full h-3 bg-gray-800 rounded-lg"}),(0,s.jsx)("div",{className:"w-4/5 h-3 bg-gray-800 rounded-lg"}),(0,s.jsx)("div",{className:"w-3/5 h-3 bg-gray-800 rounded-lg"})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("div",{className:"w-20 h-3 bg-gray-800 rounded-lg"}),(0,s.jsx)("div",{className:"w-16 h-3 bg-gray-800 rounded-lg"})]})]},e))}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map((e,t)=>{let r=e.is_emergency||!1,a=(0,c.D)(e);return(0,s.jsxs)(n.Zp,{className:"group relative overflow-hidden backdrop-blur-sm border transition-all duration-300 ".concat(a?"opacity-60 grayscale bg-gray-800/30 border-gray-700/30 pointer-events-none":"hover:-translate-y-1 hover:shadow-xl ".concat(r?"bg-red-900/30 border-red-500/50 hover:border-red-400 hover:shadow-red-500/20":"bg-gray-900/50 border-gray-800/50 hover:border-gray-700 hover:shadow-gray-900/50")),children:[(0,s.jsx)("div",{className:"absolute top-0 left-0 right-0 h-1 ".concat(a?"bg-gray-600":r?"bg-red-500":"bg-blue-500")}),(0,s.jsxs)(n.aR,{className:"relative pb-4",children:[(0,s.jsx)("div",{className:"flex items-start justify-between gap-3 mb-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0 flex-wrap",children:[a&&(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-600/50 text-gray-300",children:"â° EXPIRED"}),r&&!a&&(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 animate-pulse",children:"\uD83D\uDEA8 EMERGENCY"}),(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ".concat(a?"bg-gray-600/50 text-gray-400":r?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:e.category.replace("-"," ")})]})}),(0,s.jsx)(n.ZB,{className:"text-xl font-bold text-white leading-tight select-text cursor-text mb-2",children:e.title})]}),(0,s.jsxs)(n.Wu,{className:"relative",children:[(0,s.jsx)(n.BT,{className:"text-sm text-gray-300 leading-relaxed mb-4 select-text cursor-text",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs pt-4 border-t border-gray-800/30",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-gray-400",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,s.jsx)("span",{className:"select-text cursor-text",children:e.created_at?new Date(e.created_at).toLocaleDateString():"Unknown date"})]}),e.expiry_date&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-gray-400",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsxs)("span",{className:"select-text cursor-text",children:["Expires ",new Date(e.expiry_date).toLocaleDateString()]})]})]})]})]},e.id)})}),0===w.length&&!x&&(0,s.jsxs)("div",{className:"text-center py-16 bg-gray-900/30 rounded-2xl border border-gray-800/50",children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-gray-800/50 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,s.jsx)("svg",{className:"w-10 h-10 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:"No announcements found"}),(0,s.jsx)("p",{className:"text-gray-500 max-w-md mx-auto",children:"all"===p?"There are no announcements available at the moment. Check back later for updates.":'No announcements found in the "'.concat(p.replace("-"," "),'" category. Try selecting a different category.')})]})]})]}),(0,s.jsx)(u.N,{toasts:b,onRemove:y})]})}},1522:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(5155),a=r(2115),n=r(4085),i=r(9761),l=r(2173);let o=()=>{let{isLoaded:e}=(0,i.As)(),[t,r]=(0,a.useState)(()=>localStorage.getItem(l.Il)),o=(0,a.useCallback)(()=>{r(null),localStorage.removeItem(l.Il)},[]);(0,a.useEffect)(()=>{if(t){let e=setTimeout(()=>o(),1e4);return()=>clearTimeout(e)}},[t,o]);let c=(0,a.useMemo)(()=>!e,[e]);return(0,s.jsxs)("div",{className:"relative min-h-screen overflow-hidden",children:[(0,s.jsxs)("div",{className:"fixed inset-0 z-0",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-950 to-black"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-600/5 via-transparent to-purple-600/5"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48cGF0dGVybiBpZD0iZ3JpZCIgd2lkdGg9IjYwIiBoZWlnaHQ9IjYwIiBwYXR0ZXJuVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48cGF0aCBkPSJNIDYwIDAgTCAwIDAgMCA2MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJyZ2JhKDI1NSwyNTUsMjU1LDAuMDUpIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=')] opacity-40"}),(0,s.jsxs)("div",{className:"absolute inset-0",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-500/10 via-transparent to-purple-500/10 animate-gradient"}),(0,s.jsx)("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-white/10 to-transparent"}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-white/10 to-transparent"})]})]}),(0,s.jsxs)("div",{className:"relative z-10 w-full max-w-md space-y-8 p-4 mx-auto flex flex-col items-center justify-center min-h-screen",children:[(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg ring-2 ring-white/10 mx-auto",children:(0,s.jsx)("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})}),(0,s.jsx)("div",{className:"text-blue-500 text-sm sm:text-base flex items-center justify-center gap-2 group",children:(0,s.jsx)("span",{children:"SST Announcement System"})})]}),(0,s.jsxs)("div",{className:"relative group w-[520px] max-w-full",children:[(0,s.jsx)("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-violet-600 to-blue-600 rounded-3xl blur opacity-30 group-hover:opacity-40 transition duration-1000"}),(0,s.jsxs)("div",{className:"relative bg-black/80 backdrop-blur-xl rounded-2xl p-8 shadow-2xl border border-gray-800/50 space-y-6 w-full",children:[t&&(0,s.jsx)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4 text-red-400 text-sm",children:(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mt-0.5 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-medium",children:"Access Restricted"}),(0,s.jsx)("p",{className:"text-red-300/80 mt-1",children:t})]}),(0,s.jsx)("button",{onClick:o,className:"text-red-400 hover:text-red-300 transition-colors","aria-label":"Dismiss error",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}),(0,s.jsx)("div",{className:"relative flex items-center gap-2",children:(0,s.jsx)(i.hZ,{mode:"modal",children:(0,s.jsxs)(n.$,{type:"button",disabled:c,className:"relative overflow-hidden group inline-flex items-center justify-center gap-2 w-full text-xs md:text-sm font-medium h-11 md:h-12 px-5 md:px-6 rounded-xl [&_svg]:pointer-events-none [&_svg]:size-5 [&_svg]:shrink-0 bg-gradient-to-tr from-slate-950/85 to-gray-900/85 text-white/90 border border-white/12 hover:border-white/25 backdrop-blur-sm shadow-[inset_0_1px_0_0_rgba(255,255,255,0.06)] hover:shadow-lg hover:shadow-blue-500/10 transition-all duration-300 hover:-translate-y-px focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-400/40 disabled:pointer-events-none disabled:opacity-50",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-500/10 via-transparent to-purple-500/10 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,s.jsxs)("div",{className:"absolute inset-0",children:[(0,s.jsx)("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-white/20 to-transparent"}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-white/20 to-transparent"}),(0,s.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-px bg-gradient-to-b from-transparent via-white/20 to-transparent"}),(0,s.jsx)("div",{className:"absolute right-0 top-0 bottom-0 w-px bg-gradient-to-b from-transparent via-white/20 to-transparent"})]}),(0,s.jsx)("div",{className:"relative z-10 flex items-center justify-center",children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin mr-2"}),(0,s.jsx)("span",{className:"text-white/80",children:"Preparing..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{stroke:"currentColor",fill:"none",strokeWidth:"1.5",viewBox:"0 0 24 24",className:"mr-2 size-5",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7S2 12 2 12z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15a3 3 0 100-6 3 3 0 000 6z"})]}),(0,s.jsx)("span",{className:"text-white/80",children:"Continue with Scaler ID"})]})})]})})})]})]}),(0,s.jsxs)("p",{className:"text-center text-sm text-gray-600",children:["By continuing, you agree to our"," ",(0,s.jsx)("a",{href:"#",className:"text-violet-400 hover:text-violet-300 transition-colors duration-300",children:"Terms of Service"})," ","and"," ",(0,s.jsx)("a",{href:"#",className:"text-violet-400 hover:text-violet-300 transition-colors duration-300",children:"Privacy Policy"})]})]})]})}},4085:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var s=r(5155),a=r(2115),n=r(1290),i=r(1027),l=r(9602);let o=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:c=!1,...d}=e,u=c?n.DX:"button";return(0,s.jsx)(u,{className:(0,l.cn)(o({variant:a,size:i,className:r})),ref:t,...d})});c.displayName="Button"},5007:(e,t,r)=>{"use strict";r.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>o,Zp:()=>i,aR:()=>l});var s=r(5155),a=r(2115),n=r(9602);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});i.displayName="Card";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});l.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight select-text cursor-text",r),...a})});o.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground select-text cursor-text",r),...a})});c.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});d.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},4830:(e,t,r)=>{"use strict";r.d(t,{N:()=>l});var s=r(5155),a=r(2115),n=r(9602);let i=e=>{let{toast:t,onRemove:r}=e;return(0,a.useEffect)(()=>{let e=setTimeout(()=>{r(t.id)},5e3);return()=>clearTimeout(e)},[t.id,r]),(0,s.jsxs)("div",{className:(0,n.cn)("flex items-center gap-3 p-4 rounded-xl border backdrop-blur-sm shadow-lg animate-in slide-in-from-right duration-300",(e=>{switch(e){case"success":return"bg-green-500/10 border-green-500/30 text-green-400";case"error":return"bg-red-500/10 border-red-500/30 text-red-400";default:return"bg-blue-500/10 border-blue-500/30 text-blue-400"}})(t.type)),children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(e=>{switch(e){case"success":return(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})});case"error":return(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})});default:return(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}})(t.type)}),(0,s.jsx)("div",{className:"flex-1 text-sm font-medium",children:t.message}),(0,s.jsx)("button",{onClick:()=>r(t.id),className:"flex-shrink-0 text-current hover:opacity-70 transition-opacity",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})},l=e=>{let{toasts:t,onRemove:r}=e;return t&&0!==t.length?(0,s.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm w-full",children:t.map(e=>(0,s.jsx)(i,{toast:e,onRemove:r},e.id))}):null}},2173:(e,t,r)=>{"use strict";r.d(t,{Il:()=>l,Km:()=>c,id:()=>d});var s=r(5155),a=r(2115),n=r(9761),i=r(8671);let l="sst:lastAuthError",o=(0,a.createContext)(void 0);function c(){let e=(0,a.useContext)(o);if(!e)throw Error("useAppUser must be used within an AppUserProvider");return e}function d(e){let{children:t}=e,{isLoaded:r,isSignedIn:c,getToken:d}=(0,n.As)(),{signOut:u}=(0,n.ho)(),[m,h]=(0,a.useState)(null),[x,g]=(0,a.useState)(!0),[p,f]=(0,a.useState)(null);(0,a.useEffect)(()=>{if(!c){(0,i._)(null);return}return(0,i._)(async()=>{try{var e;return null!==(e=await d({skipCache:!0}))&&void 0!==e?e:null}catch(e){return console.warn("Unable to fetch Clerk token",e),null}}),()=>{(0,i._)(null)}},[c,d]);let b=(0,a.useCallback)(async e=>{localStorage.setItem(l,e),await u()},[u]),v=(0,a.useCallback)(async()=>{if(r){if(!c){h(null),g(!1),f(null);return}g(!0);try{let e=await i.K.getUserProfile();if(e.success&&e.data)h(e.data),f(null);else{let t=e.error||"Unable to load profile";h(null),f(t),t.toLowerCase().includes("domain access restricted")&&await b(t)}}catch(t){let e=t instanceof Error?t.message:"Unable to load profile";h(null),f(e)}finally{g(!1)}}},[r,c,b]);(0,a.useEffect)(()=>{v()},[v]);let y=(0,a.useCallback)(()=>{f(null)},[]),j=(0,a.useMemo)(()=>({user:m,isLoading:x,error:p,refreshProfile:v,clearError:y}),[m,x,p,v,y]);return(0,s.jsx)(o.Provider,{value:j,children:t})}},4942:(e,t,r)=>{"use strict";r.d(t,{d:()=>a});var s=r(2115);let a=()=>{let[e,t]=(0,s.useState)([]);return{toasts:e,showToast:(0,s.useCallback)(function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",s=Math.random().toString(36).substring(7);return t(t=>[...t,{id:s,message:e,type:r}]),s},[]),removeToast:(0,s.useCallback)(e=>{t(t=>t.filter(t=>t.id!==e))},[])}}},9602:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(3463),a=r(9795);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},8671:(e,t,r)=>{"use strict";r.d(t,{K:()=>c,_:()=>l});var s=r(2818);let a={local:{frontendUrl:"http://localhost:3000",backendUrl:"http://localhost:3000"},production:{frontendUrl:"https://sst-announcement.vercel.app",backendUrl:"https://sst-announcement.vercel.app"}},n=function(){let e="production",t=a[e],r={deployment:e,frontendUrl:s.env.NEXT_PUBLIC_FRONTEND_URL||t.frontendUrl,backendUrl:s.env.NEXT_PUBLIC_BACKEND_URL||t.backendUrl};return console.log("\uD83D\uDCCB Config loaded:",r),r}().backendUrl,i=null;function l(e){i=e}class o{async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let r={"Content-Type":"application/json",...t.headers};if(i)try{let e=await i();e&&(r.Authorization="Bearer ".concat(e))}catch(e){console.warn("Failed to resolve auth token",e)}let s=await fetch("".concat(this.baseUrl).concat(e),{headers:r,credentials:"include",...t}),a=await s.json();if(!s.ok){let e=a.message||a.error||"HTTP error! status: ".concat(s.status);return{success:!1,error:e}}if(void 0!==a.success)return{success:a.success,data:a.data,error:a.error};if(void 0!==a.data)return{success:!0,data:a.data};return{success:!0,data:a}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error occurred"}}}async getAnnouncements(e){let t=e?"/api/announcements/?status=".concat(encodeURIComponent(e)):"/api/announcements/";return this.request(t)}async getAnnouncementById(e){return this.request("/api/announcements/".concat(e))}async createAnnouncement(e){return this.request("/api/announcements/",{method:"POST",body:JSON.stringify(e)})}async updateAnnouncement(e,t){return this.request("/api/announcements/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async deleteAnnouncement(e){return this.request("/api/announcements/".concat(e),{method:"DELETE"})}async scheduleAnnouncement(e,t){return this.request("/api/announcements/schedule",{method:"POST",body:JSON.stringify({announcement_id:e,scheduled_at:t})})}async setAnnouncementReminder(e,t){return this.request("/api/announcements/reminder",{method:"POST",body:JSON.stringify({announcement_id:e,reminder_time:t})})}async trackEngagement(e,t){return this.request("/api/analytics/track",{method:"POST",body:JSON.stringify({announcement_id:e,event_type:t})})}async getAnalyticsStats(){return this.request("/api/analytics/stats")}async getAdminLimits(){return this.request("/api/admin/limits")}async getAdminConfig(){return this.request("/api/admin/config")}async getAllUsers(){return this.request("/api/admin/users")}async getUserById(e){return this.request("/api/admin/users/".concat(e))}async searchUsersByEmail(e){return this.request("/api/admin/users/search?email=".concat(encodeURIComponent(e)))}async updateUserAdminStatus(e,t){return this.request("/api/admin/users/".concat(e,"/admin-status"),{method:"PATCH",body:JSON.stringify({is_admin:t})})}async updateUserRole(e,t){return this.request("/api/admin/users/".concat(e,"/role"),{method:"PATCH",body:JSON.stringify({role:t})})}async getAdminDashboard(){return this.request("/api/admin/dashboard")}async getUserProfile(){return this.request("/api/profile")}async reviewAnnouncement(e,t,r){return this.request("/api/announcements/".concat(e,"/review"),{method:"POST",body:JSON.stringify({action:t,scheduled_at:r})})}async addAnnouncementComment(e,t){return this.request("/api/announcements/".concat(e,"/comments"),{method:"POST",body:JSON.stringify({content:t})})}async getAnnouncementComments(e){return this.request("/api/announcements/".concat(e,"/comments"))}async getDebugInfo(){return this.request("/api/debug")}constructor(e){this.baseUrl=e}}let c=new o(n)},1520:(e,t,r)=>{"use strict";r.d(t,{D:()=>s,r:()=>a});let s=e=>!!e.expiry_date&&new Date(e.expiry_date)<new Date,a=e=>{if(!e)return"";try{let t=new Date(e);if(isNaN(t.getTime()))return"";let r=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0"),n=String(t.getHours()).padStart(2,"0"),i=String(t.getMinutes()).padStart(2,"0");return"".concat(r,"-").concat(s,"-").concat(a,"T").concat(n,":").concat(i)}catch(e){return""}}},7908:(e,t,r)=>{"use strict";r.d(t,{y:()=>a});var s=r(5828);let a=(0,s.createServerReference)("7f40dc84c0f4c459faffcf736ad0efc0dff18cd897",s.callServer,void 0,s.findSourceMapURL,"invalidateCacheAction")}}]);